

  --- CAPITULO 14



DECLARE
ALTURA NUMBER;
PESO NUMBER;
IMC NUMBER;



BEGIN
ALTURA := 1.74;
PESO := 88.1;
IMC := Trunc(PESO/(ALTURA*ALTURA));



Dbms_Output.PUT_LINE('RESULTADO : '|| IMC);
END;



-- BLOCO ANONIMO
DECLARE
VDESCONTO NUMBER (6,2) := 050;
VCIDADE VARCHAR (30) := 'RECIFE';
VCOD_ALUNO TALUNO.COD_ALUNO%TYPE :=5;
VTOTAL NUMBER (8,2) := 1345.89;



BEGIN
VTOTAL := Round (VTOTAL * VDESCONTO,2);
Dbms_Output.PUT_LINE('TOTAL: ' || VTOTAL);
VDESCONTO := 1.20;
VCIDADE := InitCap (VCIDADE);
Dbms_Output.PUT_LINE('CIDADE: '||VCIDADE);
Dbms_Output.pUT_LINE('DESCONTO: ' || VDESCONTO);
Dbms_Output.PUT_LINE ('ALUNO: '|| VCOD_ALUNO);



END;





DECLARE
VPRECO1 NUMBER (8,2) :=10;



VPRECO2 NUMBER (8,2) :=20;
VFLAG BOOLEAN; -- TRUE OU FALSE



BEGIN
VFLAG := (VPRECO1>VPRECO2);
IF (VFLAG=TRUE) THEN -- SE VFLAG = TRUE VERDADEIRO ENTAO
Dbms_Output.PUT_LINE('VERDADEIRO');
ELSE --SE NAO
Dbms_Output.pUT_LINE('FALSO');
END IF; -- FIM DO IF
--
IF (VPRECO1>VPRECO2) THEN
Dbms_Output.PUT_LINE('VPRECO1 Ã‰ MAIOR');



ELSE
Dbms_Output.pUT_LINE('VPRECO2 Ã‰ MAIOR');
END IF;
END;




--- bind variable variavel externa



VARIABLE vDESCONTO2 NUMBER



DECLARE
VCOD_ALUNO NUMBER :=1;
BEGIN :vDESCONTO2 := 0.90;
Dbms_Output.PUT_LINE('DESCONTO 2: ' || :vDESCONTO2);



UPDATE TCONTRATO SET
TOTAL = TOTAL * :vDESCONTO2
WHERE COD_ALUNO = VCOD_ALUNO;
END;



----- ANINHAMENTO DE BLOCOS
DECLARE
VTESTE VARCHAR(10) := 'JOSE';
BEGIN
DECLARE
VTESTE VARCHAR(10) := 'PEDRO';



BEGIN
Dbms_Output.PUT_LINE('Bloco interno: '|| VTESTE);
END;
Dbms_Output.PUT_LINE('Bloco externo: ' || VTESTE);
END;



----------------

SELECT * FROM TCONTRATO;